(function(e){function t(t){for(var i,a,o=t[0],c=t[1],u=t[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],i=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(i=!1)}i&&(n.splice(t--,1),e=a(a.s=r[0]))}return e}var i={},s={app:0},n=[];function a(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=i,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(r,i,function(t){return e[t]}.bind(null,i));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"3c61":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("app-header"),r("router-view")],1)},n=[],a=(r("3c61"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("header",{staticClass:"app-header"},[i("div",{staticClass:"main-layout"},[i("router-link",{attrs:{to:"/"},nativeOn:{click:function(t){return e.refreshCache.apply(null,arguments)}}},[i("img",{attrs:{src:r("ede7"),alt:""}}),i("h1",[i("span",[e._v("Recipes")])])]),i("div",{staticClass:"hamburger",on:{click:e.toggleNav}})],1),e.isNavShow?i("div",{staticClass:"navHeader"},[i("router-link",{attrs:{to:"/"},nativeOn:{click:function(t){return function(){e.refreshCache(),e.toggleNav()}.apply(null,arguments)}}},[i("h2",[e._v("Home")])]),e.loginUser?i("router-link",{attrs:{to:"/recipe/edit"},nativeOn:{click:function(t){return e.toggleNav.apply(null,arguments)}}},[i("h2",[e._v("Create Recipe")])]):e._e(),e.loginUser?i("router-link",{attrs:{to:"/user/"},nativeOn:{click:function(t){return e.toggleNav.apply(null,arguments)}}},[i("h2",[e._v("Profile")])]):e._e(),e.loginUser?e._e():i("router-link",{attrs:{to:"/login"},nativeOn:{click:function(t){return e.toggleNav.apply(null,arguments)}}},[i("h2",[e._v("Login / Signup")])])],1):e._e()])])}),o=[],c={data:function(){return{isNavShow:!1}},methods:{toggleNav:function(){this.isNavShow=!this.isNavShow},refreshCache:function(){this.$store.dispatch({type:"loadRecipes"})}},computed:{loginUser:function(){return this.$store.getters.user}}},u=c,l=r("2877"),p=Object(l["a"])(u,a,o,!1,null,null,null),d=p.exports,m={name:"App",created:function(){this.$store.dispatch({type:"loadRecipes"})},components:{appHeader:d}},g=m,v=(r("5c0b"),Object(l["a"])(g,s,n,!1,null,null,null)),f=v.exports,h=r("8c4f"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("list-recipes",{attrs:{recipes:e.recipes,loggedUser:e.loggedUser},on:{removeFavorite:e.removeFavorite,addFavorite:e.addFavorite}})],1)},y=[],_=(r("e9c4"),r("c740"),r("a434"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-layout"},[e._v(" "+e._s(e.blablalbalblablalba)+" "),r("ul",{staticClass:"card-grid center margin-top"},e._l(e.recipes,(function(t){return r("li",{key:t._id,on:{click:function(r){return e.recipeDetails(t._id)}}},[r("recipe-preview",{attrs:{recipePrev:t,loggedUser:e.loggedUser},on:{removeFavorite:e.removeFavorite,addFavorite:e.addFavorite}})],1)})),0),r("div",{staticClass:"button-add-recipe",on:{click:e.addRecipe}})])}),w=[],C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-recipe"},[r("img",{staticClass:"recipe-image",attrs:{src:e.recipePrev.imageUrl,alt:""}}),r("h2",[e._v(e._s(e.recipePrev.title))]),r("div",{staticClass:"flex"},[r("div",{staticClass:"heart",class:{"is-active":e.isFavorite},on:{click:function(t){return t.stopPropagation(),e.clickHeart.apply(null,arguments)}}}),r("h2",[e._v(e._s(e.recipePrev.likes))])])])},x=[],U=(r("d3b7"),{props:["recipePrev","loggedUser"],data:function(){return{isFavorite:!1}},created:function(){var e=this;this.loggedUser&&this.loggedUser.favorites&&(this.isFavorite=this.loggedUser.favorites.some((function(t){return t._id==e.recipePrev._id})))},methods:{clickHeart:function(){this.loggedUser&&(this.isFavorite?this.$emit("removeFavorite",this.recipePrev):this.$emit("addFavorite",this.recipePrev),this.isFavorite=!this.isFavorite)}}}),R=U,k=Object(l["a"])(R,C,x,!1,null,null,null),$=k.exports,E={props:["recipes","loggedUser"],methods:{recipeDetails:function(e){this.$router.push("/recipe/"+e)},addRecipe:function(){this.$router.push("/recipe/edit")},addFavorite:function(e){this.$emit("addFavorite",e)},removeFavorite:function(e){this.$emit("removeFavorite",e)}},components:{recipePreview:$}},O=E,T=Object(l["a"])(O,_,w,!1,null,null,null),S=T.exports,N={name:"Home",data:function(){return{loggedUser:null}},created:function(){this.loadUser},components:{listRecipes:S},methods:{mounted:function(){this.$store.dispatch({type:"loadRecipes"}),window.homeComponent=this},beforeDestroy:function(){window.homeComponent=void 0},removeFavorite:function(e){this.$store.dispatch({type:"removeLikeFromRecipe",recipe:e}),this.loggedUser=JSON.parse(JSON.stringify(this.loggedUser));var t=this.loggedUser.favorites.findIndex((function(t){return e._id==t._id}));this.loggedUser.favorites.splice(t,1),this.$store.dispatch({type:"saveUser",user:this.loggedUser})},addFavorite:function(e){this.$store.dispatch({type:"addLikeToRecipe",recipe:e}),this.loggedUser=JSON.parse(JSON.stringify(this.loggedUser)),this.loggedUser.favorites.push({_id:e._id,img:e.imageUrl}),this.$store.dispatch({type:"saveUser",user:this.loggedUser})}},computed:{recipes:function(){return this.$store.getters.recipesForDisplay},loadUser:function(){var e=this.$store.getters.user;return e&&(this.loggedUser=JSON.parse(JSON.stringify(e))),this.loggedUser}}},I=N,P=Object(l["a"])(I,b,y,!1,null,null,null),j=P.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-layout"},[e.recipe?r("div",{staticClass:"margin-top card-detail  recipe-details"},[r("img",{attrs:{src:e.recipe.imageUrl,alt:""}}),r("h1",[e._v(e._s(e.recipe.title))]),r("p",[e._v(e._s(e.recipe.description))]),r("h2",[e._v("Ingredients")]),r("ul",e._l(e.recipe.ingredients,(function(t,i){return r("li",{key:i},[r("label",{staticClass:"ingredent"},[r("p-check",{staticClass:"p-icon p-jelly",attrs:{color:"info-o"}},[r("i",{staticClass:"icon mdi mdi-check",attrs:{slot:"extra"},slot:"extra"},[e._v("✔")])]),r("h3",[e._v(e._s(t.quantity)+" "+e._s(t.unit)+" "+e._s(t.name))])],1)])})),0),r("div",{staticClass:"serving"},[r("h2",[e._v("serving: "+e._s(e.recipe.serving))]),r("h2",[r("span",{staticClass:"clock"}),e._v(" "+e._s(e.recipe.prepTime))])]),r("h2",{staticClass:"instructions"},[e._v("Instructions")]),r("div",{staticClass:"hr"}),r("ul",e._l(e.recipe.instructions,(function(t,i){return r("li",{key:i},[r("label",{staticClass:"ingredent"},[r("p-check",{staticClass:"p-icon p-jelly",attrs:{color:"info-o"}},[r("i",{staticClass:"icon mdi mdi-check",attrs:{slot:"extra"},slot:"extra"},[e._v("✔")])]),r("h3",[e._v(e._s(i+1)+") "+e._s(t))])],1)])})),0),e._m(0),r("div",{staticClass:"isAditor"},[e.isCreator?r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(t){return t.preventDefault(),e.editRecipe.apply(null,arguments)}}}):e._e(),e.isCreator?r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.preventDefault(),e.deleteRecipe.apply(null,arguments)}}}):e._e()],1)]):r("div",{staticClass:"containe-loader"},[r("div",{staticClass:"loading"})])])},J=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",[e._v("bon appetit "),r("span",{staticClass:"food"})])}],q=r("1da1"),D=(r("96cf"),{data:function(){return{recipe:null,isCreator:!1}},created:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.loadRecipe();case 2:e.loadIsCreator();case 3:case"end":return t.stop()}}),t)})))()},methods:{loadRecipe:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.recipeId,t.next=3,e.$store.dispatch({type:"getRecipe",recipeId:r});case 3:e.recipe=t.sent;case 4:case"end":return t.stop()}}),t)})))()},loadIsCreator:function(){var e=this,t=this.$store.getters.user;t&&(this.isCreator=t.myRecipes.some((function(t){return e.recipe._id==t._id})))},editRecipe:function(){this.$router.push("/recipe/edit/"+this.recipe._id)},deleteRecipe:function(){this.$store.dispatch({type:"removeRecipe",recipeId:this.recipe._id}),this.$store.dispatch({type:"removeRecipeFromUser",recipeId:this.recipe._id}),this.$notify({title:"Delete Success",message:"Delete recipe Success",type:"success"}),this.$router.push("/")}}}),M=D,L=Object(l["a"])(M,F,J,!1,null,null,null),A=L.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.recipeToEdit?r("section",{staticClass:"edit-comp margin-top"},[r("section",{staticClass:" recipe-details"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.saveRecipe.apply(null,arguments)}}},[r("h2",[e._v(e._s(e.title))]),r("section",{staticClass:"widthInputs"},[r("label",{staticClass:"input  "},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipeToEdit.title,expression:"recipeToEdit.title"}],staticClass:"input__field",attrs:{type:"text",placeholder:" "},domProps:{value:e.recipeToEdit.title},on:{input:function(t){t.target.composing||e.$set(e.recipeToEdit,"title",t.target.value)}}}),r("span",{staticClass:"input__label"},[e._v("Recipe Name")])]),r("label",{staticClass:"input "},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipeToEdit.imageUrl,expression:"recipeToEdit.imageUrl"}],staticClass:"input__field",attrs:{type:"text",placeholder:" "},domProps:{value:e.recipeToEdit.imageUrl},on:{input:function(t){t.target.composing||e.$set(e.recipeToEdit,"imageUrl",t.target.value)}}}),r("span",{staticClass:"input__label"},[e._v("Recipe Img")])]),r("label",{staticClass:"input "},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipeToEdit.description,expression:"recipeToEdit.description"}],staticClass:"input__field",attrs:{type:"text",placeholder:" "},domProps:{value:e.recipeToEdit.description},on:{input:function(t){t.target.composing||e.$set(e.recipeToEdit,"description",t.target.value)}}}),r("span",{staticClass:"input__label"},[e._v("Short Description")])])]),r("div",{staticClass:"pickers"},[r("el-time-select",{attrs:{"picker-options":{start:"00:05",step:"00:05",end:"05:30"},placeholder:"Preparation time"},on:{change:e.setPrepTime},model:{value:e.recipeToEdit.prepTime,callback:function(t){e.$set(e.recipeToEdit,"prepTime",t)},expression:"recipeToEdit.prepTime"}}),r("div",{staticClass:"serving"},[r("h3",[e._v("Serving:")]),r("el-input-number",{attrs:{placeholder:"Serving","controls-position":"right",min:1,max:100},model:{value:e.recipeToEdit.serving,callback:function(t){e.$set(e.recipeToEdit,"serving",t)},expression:"recipeToEdit.serving"}})],1)],1),r("h2",[e._v("Ingredients")]),e._l(e.recipeToEdit.ingredients,(function(t,i){return r("div",{key:i,staticClass:"ingredient"},[r("label",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipeToEdit.ingredients[i].name,expression:"recipeToEdit.ingredients[idx1].name"}],staticClass:"input__field",attrs:{type:"text",placeholder:" "},domProps:{value:e.recipeToEdit.ingredients[i].name},on:{input:function(t){t.target.composing||e.$set(e.recipeToEdit.ingredients[i],"name",t.target.value)}}}),r("span",{staticClass:"input__label"},[e._v("Ingredient "+e._s(i+1))])]),r("div",{staticClass:"select-unit"},[r("el-radio-group",{attrs:{size:"mini"},model:{value:e.recipeToEdit.ingredients[i].unit,callback:function(t){e.$set(e.recipeToEdit.ingredients[i],"unit",t)},expression:"recipeToEdit.ingredients[idx1].unit"}},[r("el-radio-button",{attrs:{label:"cups"}}),r("el-radio-button",{attrs:{label:"tabelspoons"}}),r("el-radio-button",{attrs:{label:"teaspoons"}}),r("el-radio-button",{attrs:{label:"liters"}}),r("el-radio-button",{attrs:{label:"grams"}}),r("el-radio-button",{attrs:{label:"kilograms"}})],1)],1),r("div",{staticClass:"containerQuant"},[r("h3",[e._v("Quantity: ")]),e._v("    "),r("div",[r("el-input-number",{staticClass:"inputQuantity",attrs:{step:e.step,placeholder:"Quantity","controls-position":"right",min:0,max:100},model:{value:e.recipeToEdit.ingredients[i].quantity,callback:function(t){e.$set(e.recipeToEdit.ingredients[i],"quantity",t)},expression:"recipeToEdit.ingredients[idx1].quantity"}})],1)])])})),r("div",{staticClass:"button-h3"},[r("div",{staticClass:"addButton",on:{click:e.addIngredient}}),r("h3",[e._v("Add Ingredient")])]),r("h2",[e._v("Steps")]),e._l(e.recipeToEdit.instructions,(function(t,i){return r("div",{key:i+100,staticClass:"ingredient"},[r("label",{staticClass:"input"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.recipeToEdit.instructions[i],expression:"recipeToEdit.instructions[idx]"}],staticClass:"input__field",attrs:{type:"text",placeholder:" "},domProps:{value:e.recipeToEdit.instructions[i]},on:{input:function(t){t.target.composing||e.$set(e.recipeToEdit.instructions,i,t.target.value)}}}),r("span",{staticClass:"input__label"},[e._v("Step "+e._s(i+1))])])])})),r("div",{staticClass:"button-h3"},[r("div",{staticClass:"addButton",on:{click:e.addInstruction}}),r("h3",[e._v("Add Instruction")])]),r("button",[e._v("Save")])],2)])]):r("div",{staticClass:"containe-loader"},[r("div",{staticClass:"loading"})])])},H=[],Q={name:"recipeEdit",data:function(){return{recipeToEdit:null,step:.05}},created:function(){var e=this;this.$store.getters.user||(this.$notify.error({title:"Error",message:"User must been login"}),this.$router.push("/login"));var t=this.getRecipeId;t?this.$store.dispatch({type:"getRecipe",recipeId:t}).then((function(t){e.recipeToEdit=JSON.parse(JSON.stringify(t))})):(this.recipeToEdit=this.emptyRecipe(),this.recipeToEdit.memberId=this.$store.getters.user._id,this.recipeToEdit.memberId||(this.$notify.error({title:"Error",message:"User must been login"}),this.$router.push("/")))},methods:{emptyRecipe:function(){return{title:"",imageUrl:"",description:"",prepTime:"",serving:"",memberId:null,ingredients:[{name:"",quantity:" ",unit:" "}],instructions:[""],likes:0}},addIngredient:function(){this.recipeToEdit.ingredients.push({name:"",quantity:"",unit:""})},addInstruction:function(){this.recipeToEdit.instructions.push("")},setPrepTime:function(e){this.recipeToEdit.prepTime=e+" Min"},saveRecipe:function(){var e=this;this.getRecipeId?(console.log("recipeAdd1",this.recipeToEdit),this.$store.dispatch({type:"updateRecipe",recipe:this.recipeToEdit}).then((function(t){console.log("recipeSaveADD6",t),e.$notify({title:"Save successfly",message:"Your recipe been update :)",type:"success"}),e.$router.push("/")}))):this.$store.dispatch({type:"addRecipe",recipe:this.recipeToEdit}).then((function(t){e.$store.dispatch({type:"addRecipeToUser",recipe:t}),e.$router.push("/"),e.$notify({title:"Save successfly",message:"Your recipe saved :)",type:"success"})}))}},computed:{title:function(){return"Recipe ".concat(this.getRecipeId?"Edit":"Create")},getRecipeId:function(){return this.$route.params.recipeId}}},G=Q,W=Object(l["a"])(G,B,H,!1,null,null,null),Y=W.exports,z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[e.loginUser?r("section",{staticClass:"user-profile  margin-top "},[r("div",{staticClass:"row py-5 px-4"},[r("div",{staticClass:"col-md-5 mx-auto"},[r("div",{staticClass:"bg-white shadow rounded overflow-hidden"},[r("div",{staticClass:"px-4 pt-0 pb-4 cover"},[r("div",{staticClass:"media align-items-end profile-head"},[r("div",{staticClass:"profile mr-3"},[r("img",{staticClass:"rounded mb-2 img-thumbnail",attrs:{src:e.loginUser.userImg,alt:"...",width:"130"}})]),r("div",{staticClass:"media-body mb-5 text-white"},[e.isEditMode?r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginUser.username,expression:"loginUser.username"}],staticClass:"w3-input w3-hover-green",attrs:{type:"text"},domProps:{value:e.loginUser.username},on:{input:function(t){t.target.composing||e.$set(e.loginUser,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.loginUser.from,expression:"loginUser.from"}],staticClass:"w3-input w3-hover-green",attrs:{type:"text"},domProps:{value:e.loginUser.from},on:{input:function(t){t.target.composing||e.$set(e.loginUser,"from",t.target.value)}}})]):r("div",[r("h4",{staticClass:"mt-0 mb-0"},[e._v(e._s(e.loginUser.username))]),r("p",{staticClass:"small mb-4"},[r("i",{staticClass:"fas fa-map-marker-alt mr-2"}),e._v(e._s(e.loginUser.from))])])])])]),r("a",{staticClass:"btn edit-profile btn-outline-dark btn-sm btn-block",attrs:{href:"#"},on:{click:e.changeEditMode}},[e._v(" "+e._s(e.buttonTitle))]),r("div",{staticClass:"px-4 py-3"},[r("h2",{staticClass:"mb-0"},[e._v("About")]),r("div",{staticClass:"p-4 rounded shadow-sm bg-light"},[e.isEditMode?r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.loginUser.desc,expression:"loginUser.desc"}],attrs:{rows:"3"},domProps:{value:e.loginUser.desc},on:{input:function(t){t.target.composing||e.$set(e.loginUser,"desc",t.target.value)}}}):r("p",{staticClass:"font-italic mb-0"},[r("pre",[e._v(e._s(e.loginUser.desc))])])])]),r("div",{staticClass:"py-4 px-4"},[e._m(0),r("div",{staticClass:"row"},e._l(e.loginUser.myRecipes,(function(t,i){return r("div",{key:i,staticClass:"col-lg-6 mb-2 pr-lg-1",on:{click:function(r){return e.movePage(t._id)}}},[r("img",{staticClass:"img-fluid rounded shadow-sm",attrs:{src:t.img,alt:""}})])})),0)]),r("div",{staticClass:"py-4 px-4"},[e._m(1),r("div",{staticClass:"row"},e._l(e.loginUser.favorites,(function(t,i){return r("div",{key:i,staticClass:"col-lg-6 mb-2 pr-lg-1",on:{click:function(r){return e.movePage(t._id)}}},[r("img",{staticClass:"img-fluid rounded shadow-sm",attrs:{src:t.img,alt:""}})])})),0)]),r("el-button",{staticClass:"logout",attrs:{type:"danger",round:""},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[e._v("Logout")])],1)])])]):r("div",{staticClass:"containe-loader"},[r("div",{staticClass:"loading"})])])},K=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[r("h2",{staticClass:"mb-0"},[e._v("My Recipes")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[r("h2",{staticClass:"mb-0"},[e._v("My Favorites Recipes")])])}],V={data:function(){return{loginUser:null,isEditMode:!1}},created:function(){this.getLoggedUser()},methods:{changeEditMode:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isEditMode){t.next=6;break}return t.next=3,e.$store.dispatch({type:"saveUser",user:e.loginUser});case 3:r=t.sent,e.$notify({title:"Success Update",message:"Profile updaed succsessfully",type:"success"}),e.loginUser=JSON.parse(JSON.stringify(r));case 6:e.isEditMode=!e.isEditMode;case 7:case"end":return t.stop()}}),t)})))()},getLoggedUser:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.getters.user;case 3:r=t.sent,e.loginUser=JSON.parse(JSON.stringify(r)),t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},movePage:function(e){this.$router.push("/recipe/"+e)},logout:function(){this.$store.dispatch({type:"logout"}),this.$router.push("/login")}},computed:{buttonTitle:function(){return this.isEditMode?"Save":"Edit profile"}}},X=V,Z=Object(l["a"])(X,z,K,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:" login-signup-cmp margin-top"},[r("div",{staticClass:"container",class:{active:e.isRegister}},[r("div",{staticClass:"card"}),r("div",{staticClass:"card"},[r("h1",{staticClass:"title"},[e._v("Login")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.makeLogin.apply(null,arguments)}}},[r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],attrs:{type:"text",id:"mail",required:"required"},domProps:{value:e.login.email},on:{input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}}),r("label",{attrs:{for:"mail"}},[e._v("Email")]),r("div",{staticClass:"bar"})]),r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],attrs:{type:"password",id:"pass",required:"required"},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),r("label",{attrs:{for:"pass"}},[e._v("Password")]),r("div",{staticClass:"bar"})]),e._m(0)])]),r("div",{staticClass:"card alt"},[r("div",{staticClass:"toggle",on:{click:function(t){e.isRegister=!e.isRegister}}}),r("h1",{staticClass:"title",class:{none:!e.isRegister}},[e._v("Register"),r("div",{staticClass:"close",on:{click:function(t){e.isRegister=!e.isRegister}}})]),r("form",{class:{none:!e.isRegister},on:{submit:function(t){return t.preventDefault(),e.signup.apply(null,arguments)}}},[r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUser.username,expression:"registerUser.username"}],attrs:{type:"text",id:"usernamer",required:"required"},domProps:{value:e.registerUser.username},on:{input:function(t){t.target.composing||e.$set(e.registerUser,"username",t.target.value)}}}),r("label",{attrs:{for:"usernamer"}},[e._v("Username")]),r("div",{staticClass:"bar"})]),r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUser.email,expression:"registerUser.email"}],attrs:{type:"text",id:"emailR",required:"required"},domProps:{value:e.registerUser.email},on:{input:function(t){t.target.composing||e.$set(e.registerUser,"email",t.target.value)}}}),r("label",{attrs:{for:"emailR"}},[e._v("Email")]),r("div",{staticClass:"bar"})]),r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUser.from,expression:"registerUser.from"}],attrs:{type:"text",id:"from",required:"required"},domProps:{value:e.registerUser.from},on:{input:function(t){t.target.composing||e.$set(e.registerUser,"from",t.target.value)}}}),r("label",{attrs:{for:"from"}},[e._v("From")]),r("div",{staticClass:"bar"})]),r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUser.userImg,expression:"registerUser.userImg"}],attrs:{type:"text",id:"imguser"},domProps:{value:e.registerUser.userImg},on:{input:function(t){t.target.composing||e.$set(e.registerUser,"userImg",t.target.value)}}}),r("label",{attrs:{for:"imguser"}},[e._v("Img Url-not must")]),r("div",{staticClass:"bar"})]),r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUser.desc,expression:"registerUser.desc"}],attrs:{type:"text",id:"description",required:"required"},domProps:{value:e.registerUser.desc},on:{input:function(t){t.target.composing||e.$set(e.registerUser,"desc",t.target.value)}}}),r("label",{attrs:{for:"description"}},[e._v("Description")]),r("div",{staticClass:"bar"})]),r("div",{staticClass:"input-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUser.password,expression:"registerUser.password"}],attrs:{type:"password",id:"passR",required:"required"},domProps:{value:e.registerUser.password},on:{input:function(t){t.target.composing||e.$set(e.registerUser,"password",t.target.value)}}}),r("label",{attrs:{for:"passR"}},[e._v("Password")]),r("div",{staticClass:"bar"})]),e._m(1)])])]),e._v(" "+e._s(e.registerUser)+" ")])},re=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"button-container"},[r("button",[r("span",[e._v("Go")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"button-container"},[r("button",[r("span",[e._v("Next")])])])}],ie={name:"login-sign-up",data:function(){return{isRegister:!1,login:{email:null,password:null},registerUser:{username:"",email:"",password:"",userImg:"",from:"",desc:""}}},methods:{makeLogin:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch({type:"login",user:e.login});case 3:e.$router.push("/"),e.$notify({title:"Welcome back ".concat(e.$store.getters.user.username),message:"Welcome back  ".concat(e.$store.getters.user.username),type:"success"}),t.next=12;break;case 7:t.prev=7,t.t0=t["catch"](0),r=t.t0.response.data.error,500==t.t0.response.status&&(r="try again;"),e.$notify.error({title:"Error",message:r});case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))()},signup:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.registerUser.userImg||(e.registerUser.userImg="https://i.pinimg.com/564x/bb/18/3a/bb183a6e148512c3b7cea8e1584f3adf.jpg"),t.next=4,e.$store.dispatch({type:"signup",user:e.registerUser});case 4:e.$router.push("/"),t.next=10;break;case 7:throw t.prev=7,t.t0=t["catch"](0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},se=ie,ne=Object(l["a"])(se,te,re,!1,null,null,null),ae=ne.exports;i["default"].use(h["a"]);var oe=[{path:"/",name:"Home",component:j},{path:"/recipe/edit/:recipeId?",name:"recipeEdit",component:Y},{path:"/recipe/:recipeId?",component:A},{path:"/user/:userId?",component:ee},{path:"/login",component:ae}],ce=new h["a"]({mode:"history",routes:oe}),ue=ce,le=r("2f62"),pe=(r("3ca3"),r("ddb0"),r("9861"),r("bc3a")),de=r.n(pe),me=de.a.create({withCredentials:!0}),ge="/",ve="loggedinUser",fe={getLoggedinUser:xe,saveUser:he,login:Re,signup:we,logout:ye};function he(e){return be.apply(this,arguments)}function be(){return be=Object(q["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.patch(ge+"api/users/"+t._id,t);case 3:sessionStorage.setItem(ve,JSON.stringify(t)),e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),"user not saved to storage - DB ".concat(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),be.apply(this,arguments)}function ye(){return _e.apply(this,arguments)}function _e(){return _e=Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,sessionStorage.clear(),e.next=7;break;case 4:throw e.prev=4,e.t0=e["catch"](0),"error - logout ".concat(e.t0);case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),_e.apply(this,arguments)}function we(e){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(q["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.favorites=[],t.myRecipes=[],e.next=5,me.post("/api/users",t);case 5:return e.sent,e.next=8,Re(t);case 8:return sessionStorage.setItem(ve,JSON.stringify(t)),e.abrupt("return",t);case 12:throw e.prev=12,e.t0=e["catch"](0),console.log("signup error ".concat(e.t0)),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])}))),Ce.apply(this,arguments)}function xe(){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",JSON.parse(sessionStorage.getItem(ve)));case 4:throw e.prev=4,e.t0=e["catch"](0),e.t0;case 7:case"end":return e.stop()}}),e,null,[[0,4]])}))),Ue.apply(this,arguments)}function Re(e){return ke.apply(this,arguments)}function ke(){return ke=Object(q["a"])(regeneratorRuntime.mark((function e(t){var r,i,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=new URLSearchParams,r.append("email",t.email),r.append("password",t.password),i={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=7,me.post("/api/sessions/login",r,i);case 7:return s=e.sent,n=s.data,sessionStorage.setItem(ve,JSON.stringify(n)),e.abrupt("return",n);case 13:throw e.prev=13,e.t0=e["catch"](0),console.log("Login error ".concat(e.t0)),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),ke.apply(this,arguments)}var $e={state:{user:null},getters:{user:function(e){return e.user}},mutations:{setUser:function(e,t){var r=t.savedUser;e.user=r},addRecipeUser:function(e,t){var r=t.recipe;e.user.myRecipes.push({_id:r._id,img:r.imageUrl}),fe.saveUser(e.user)}},actions:{saveUser:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.commit,s=t.user,r.prev=2,r.next=5,fe.saveUser(s);case 5:return i({type:"setUser",savedUser:s}),r.abrupt("return",s);case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("cannot save user chages"),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},login:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var i,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.commit,s=t.user,r.prev=2,r.next=5,fe.login(s);case 5:n=r.sent,i({type:"setUser",savedUser:n}),r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](2),console.log("error login"),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})))()},logout:function(e){return Object(q["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,fe.logout();case 4:r({type:"setUser",savedUser:null}),t.next=11;break;case 7:throw t.prev=7,t.t0=t["catch"](1),console.log(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[1,7]])})))()},signup:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var i,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.commit,s=t.user,r.prev=2,r.next=5,fe.signup(s);case 5:return n=r.sent,i({type:"setUser",savedUser:n}),r.abrupt("return",s);case 10:throw r.prev=10,r.t0=r["catch"](2),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()},addRecipeToUser:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:i=e.commit,s=t.recipe,r.prev=2,i({type:"addRecipeUser",recipe:s}),r.next=9;break;case 6:throw r.prev=6,r.t0=r["catch"](2),r.t0;case 9:case"end":return r.stop()}}),r,null,[[2,6]])})))()},removeRecipeFromUser:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var i,s,n,a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.commit,i=e.dispatch,s=e.getters,n=t.recipeId,r.prev=2,a=JSON.parse(JSON.stringify(s.user)),o=a.myRecipes.findIndex((function(e){return e._id==n})),a.myRecipes.splice(o,1),r.next=8,i({type:"saveUser",user:a});case 8:r.next=13;break;case 10:throw r.prev=10,r.t0=r["catch"](2),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,10]])})))()}}};r("7db0");var Ee=r("bc3a"),Oe="/",Te={query:Se,getById:Ne,remove:Ie,save:Pe};function Se(){return Ee.get(Oe+"api/recipes").then((function(e){return e.data}))}function Ne(e){return Ee.get(Oe+"api/recipes/"+e).then((function(e){return e.data}))}function Ie(e){return Ee.delete(Oe+"api/recipes/"+e).then((function(e){return e.data}))}function Pe(e){return je.apply(this,arguments)}function je(){return je=Object(q["a"])(regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="/api/recipes",console.log("save(recipe): "),!t._id){e.next=9;break}return console.log("updating recipe ".concat(t._id)),e.next=6,Ee.patch(r+"/".concat(t._id),t).data;case 6:return e.abrupt("return",e.sent);case 9:return console.log("adding new recipe",t),e.next=12,Ee.post(r,t);case 12:return i=e.sent,console.log("addReulst:",i.data),e.abrupt("return",i.data);case 15:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}var Fe={strict:!0,state:{recipes:[],currRecipe:null},getters:{recipes:function(){return state.recipes},recipesForDisplay:function(e){var t=JSON.parse(JSON.stringify(e.recipes));return t}},mutations:{setRecipes:function(e,t){var r=t.recipes;e.recipes=r},getRecipe:function(e,t){var r=t.recipe;e.currRecipe=r}},actions:{loadRecipes:function(e){var t=e.commit;Te.query().then((function(e){t({type:"setRecipes",recipes:e})})).catch((function(e){throw e}))},getRecipe:function(e,t){var r=e.commit,i=t.recipeId;return Te.getById(i).then((function(e){return r({type:"getRecipe",recipe:e}),e})).catch((function(e){throw e}))},addRecipe:function(e,t){var r=e.dispatch,i=t.recipe;return console.log("Store addRecipe: ",i),Te.save(i).then((function(e){return console.log("recive recipe 555 - before dispatch",e),r({type:"loadRecipes"}),console.log("recipeAdd5 - after dispatch",e),e})).catch((function(e){throw e}))},updateRecipe:function(e,t){var r=e.dispatch,i=t.recipe;return Te.save(i).then((function(e){return r({type:"loadRecipes"}),e})).catch((function(e){throw e}))},removeRecipe:function(e,t){return Object(q["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.dispatch,s=t.recipeId,r.prev=2,r.next=5,Te.remove(s);case 5:i({type:"loadRecipes"}),r.next=11;break;case 8:throw r.prev=8,r.t0=r["catch"](2),r.t0;case 11:case"end":return r.stop()}}),r,null,[[2,8]])})))()},addLikeToRecipe:function(e,t){e.commit;var r=e.dispatch,i=t.recipe,s=JSON.parse(JSON.stringify(i));s.likes++,r({type:"updateRecipe",recipe:s})},removeLikeFromRecipe:function(e,t){e.commit;var r=e.dispatch,i=t.recipe,s=JSON.parse(JSON.stringify(i));s.likes--,r({type:"updateRecipe",recipe:s})}},modules:{}};window.recipeStore=Fe,i["default"].use(le["a"]);var Je=new le["a"].Store({strict:!0,modules:{userStore:$e,recipesStore:Fe}}),qe=r("5bdc"),De=r.n(qe),Me=r("5c96"),Le=(r("0fae"),r("f9e3"),r("2dd8"),r("5f5b")),Ae=r("b1e0");i["default"].config.productionTip=!1,i["default"].use(Me["InputNumber"]),i["default"].use(Me["TimePicker"]),i["default"].use(Me["TimeSelect"]),i["default"].use(Me["Radio"]),i["default"].use(Me["RadioGroup"]),i["default"].use(Me["RadioButton"]),i["default"].use(Me["Button"]),i["default"].use(Me["ButtonGroup"]),i["default"].prototype.$notify=Me["Notification"],i["default"].use(Le["a"]),i["default"].use(Ae["a"]),i["default"].use(De.a),new i["default"]({router:ue,store:Je,render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"9c0c":function(e,t,r){},ede7:function(e,t,r){e.exports=r.p+"img/logo.1c341545.png"}});
//# sourceMappingURL=app.1738c2bd.js.map